var qi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var of=qi((cf,W)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Y(){}function Or(e){return e()}function Pn(){return Object.create(null)}function Nt(e){e.forEach(Or)}function on(e){return typeof e=="function"}function Ir(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Jt;function $n(e,t){return Jt||(Jt=document.createElement("a")),Jt.href=t,e===Jt.href}function zi(e){return Object.keys(e).length===0}function kr(e,...t){if(e==null)return Y;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Wi(e,t,n){e.$$.on_destroy.push(kr(t,n))}function U(e,t){e.appendChild(t)}function an(e,t,n){e.insertBefore(t,n||null)}function _e(e){e.parentNode&&e.parentNode.removeChild(e)}function Gn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function G(e){return document.createElement(e)}function Br(e){return document.createTextNode(e)}function At(){return Br(" ")}function Ye(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function D(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ji(e){return Array.from(e.childNodes)}let cn;function Ut(e){cn=e}const dt=[],Ln=[],ee=[],Cn=[],Ki=Promise.resolve();let Fe=!1;function Vi(){Fe||(Fe=!0,Ki.then(Ar))}function Me(e){ee.push(e)}const De=new Set;let ft=0;function Ar(){if(ft!==0)return;const e=cn;do{try{for(;ft<dt.length;){const t=dt[ft];ft++,Ut(t),Xi(t.$$)}}catch(t){throw dt.length=0,ft=0,t}for(Ut(null),dt.length=0,ft=0;Ln.length;)Ln.pop()();for(let t=0;t<ee.length;t+=1){const n=ee[t];De.has(n)||(De.add(n),n())}ee.length=0}while(dt.length);for(;Cn.length;)Cn.pop()();Fe=!1,De.clear(),Ut(e)}function Xi(e){if(e.fragment!==null){e.update(),Nt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Me)}}const Qi=new Set;function Zi(e,t){e&&e.i&&(Qi.delete(e),e.i(t))}function ts(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||Me(()=>{const o=e.$$.on_mount.map(Or).filter(on);e.$$.on_destroy?e.$$.on_destroy.push(...o):Nt(o),e.$$.on_mount=[]}),s.forEach(Me)}function es(e,t){const n=e.$$;n.fragment!==null&&(Nt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ns(e,t){e.$$.dirty[0]===-1&&(dt.push(e),Vi(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function rs(e,t,n,r,i,s,o,a=[-1]){const u=cn;Ut(e);const c=e.$$={fragment:null,ctx:[],props:s,update:Y,not_equal:i,bound:Pn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Pn(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(l,m,...h)=>{const p=h.length?h[0]:m;return c.ctx&&i(c.ctx[l],c.ctx[l]=p)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](p),f&&ns(e,l)),m}):[],c.update(),f=!0,Nt(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const l=Ji(t.target);c.fragment&&c.fragment.l(l),l.forEach(_e)}else c.fragment&&c.fragment.c();t.intro&&Zi(e.$$.fragment),ts(e,t.target,t.anchor,t.customElement),Ar()}Ut(u)}class is{$destroy(){es(this,1),this.$destroy=Y}$on(t,n){if(!on(n))return Y;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!zi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ur(e,t){return function(){return e.apply(t,arguments)}}const{toString:xr}=Object.prototype,{getPrototypeOf:un}=Object,fn=(e=>t=>{const n=xr.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),K=e=>(e=e.toLowerCase(),t=>fn(t)===e),pe=e=>t=>typeof t===e,{isArray:vt}=Array,Gt=pe("undefined");function ss(e){return e!==null&&!Gt(e)&&e.constructor!==null&&!Gt(e.constructor)&&it(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pr=K("ArrayBuffer");function os(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pr(e.buffer),t}const as=pe("string"),it=pe("function"),$r=pe("number"),ln=e=>e!==null&&typeof e=="object",cs=e=>e===!0||e===!1,ne=e=>{if(fn(e)!=="object")return!1;const t=un(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},us=K("Date"),fs=K("File"),ls=K("Blob"),ds=K("FileList"),_s=e=>ln(e)&&it(e.pipe),ps=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||xr.call(e)===t||it(e.toString)&&e.toString()===t)},hs=K("URLSearchParams"),ms=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),vt(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function Gr(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Lr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Cr=e=>!Gt(e)&&e!==Lr;function je(){const{caseless:e}=Cr(this)&&this||{},t={},n=(r,i)=>{const s=e&&Gr(t,i)||i;ne(t[s])&&ne(r)?t[s]=je(t[s],r):ne(r)?t[s]=je({},r):vt(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qt(arguments[r],n);return t}const gs=(e,t,n,{allOwnKeys:r}={})=>(qt(t,(i,s)=>{n&&it(i)?e[s]=Ur(i,n):e[s]=i},{allOwnKeys:r}),e),Es=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ys=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ss=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&un(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ts=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bs=e=>{if(!e)return null;if(vt(e))return e;let t=e.length;if(!$r(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Rs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&un(Uint8Array)),ws=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Ns=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},vs=K("HTMLFormElement"),Ds=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Yn=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Os=K("RegExp"),Yr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qt(n,(i,s)=>{t(i,s,e)!==!1&&(r[s]=i)}),Object.defineProperties(e,r)},Is=e=>{Yr(e,(t,n)=>{if(it(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(it(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ks=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return vt(e)?r(e):r(String(e).split(t)),n},Bs=()=>{},As=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Oe="abcdefghijklmnopqrstuvwxyz",Fn="0123456789",Fr={DIGIT:Fn,ALPHA:Oe,ALPHA_DIGIT:Oe+Oe.toUpperCase()+Fn},Us=(e=16,t=Fr.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function xs(e){return!!(e&&it(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ps=e=>{const t=new Array(10),n=(r,i)=>{if(ln(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=vt(r)?[]:{};return qt(r,(o,a)=>{const u=n(o,i+1);!Gt(u)&&(s[a]=u)}),t[i]=void 0,s}}return r};return n(e,0)},d={isArray:vt,isArrayBuffer:Pr,isBuffer:ss,isFormData:ps,isArrayBufferView:os,isString:as,isNumber:$r,isBoolean:cs,isObject:ln,isPlainObject:ne,isUndefined:Gt,isDate:us,isFile:fs,isBlob:ls,isRegExp:Os,isFunction:it,isStream:_s,isURLSearchParams:hs,isTypedArray:Rs,isFileList:ds,forEach:qt,merge:je,extend:gs,trim:ms,stripBOM:Es,inherits:ys,toFlatObject:Ss,kindOf:fn,kindOfTest:K,endsWith:Ts,toArray:bs,forEachEntry:ws,matchAll:Ns,isHTMLForm:vs,hasOwnProperty:Yn,hasOwnProp:Yn,reduceDescriptors:Yr,freezeMethods:Is,toObjectSet:ks,toCamelCase:Ds,noop:Bs,toFiniteNumber:As,findKey:Gr,global:Lr,isContextDefined:Cr,ALPHABET:Fr,generateString:Us,isSpecCompliantForm:xs,toJSONObject:Ps};function S(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}d.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Mr=S.prototype,jr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jr[e]={value:e}});Object.defineProperties(S,jr);Object.defineProperty(Mr,"isAxiosError",{value:!0});S.from=(e,t,n,r,i,s)=>{const o=Object.create(Mr);return d.toFlatObject(e,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),S.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const $s=null;function He(e){return d.isPlainObject(e)||d.isArray(e)}function Hr(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function Mn(e,t,n){return e?e.concat(t).map(function(i,s){return i=Hr(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Gs(e){return d.isArray(e)&&!e.some(He)}const Ls=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function he(e,t,n){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=d.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,O){return!d.isUndefined(O[g])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(d.isDate(p))return p.toISOString();if(!u&&d.isBlob(p))throw new S("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(p)||d.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function f(p,g,O){let b=p;if(p&&!O&&typeof p=="object"){if(d.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(d.isArray(p)&&Gs(p)||(d.isFileList(p)||d.endsWith(g,"[]"))&&(b=d.toArray(p)))return g=Hr(g),b.forEach(function(C,y){!(d.isUndefined(C)||C===null)&&t.append(o===!0?Mn([g],y,s):o===null?g:g+"[]",c(C))}),!1}return He(p)?!0:(t.append(Mn(O,g,s),c(p)),!1)}const l=[],m=Object.assign(Ls,{defaultVisitor:f,convertValue:c,isVisitable:He});function h(p,g){if(!d.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));l.push(p),d.forEach(p,function(b,E){(!(d.isUndefined(b)||b===null)&&i.call(t,b,d.isString(E)?E.trim():E,g,m))===!0&&h(b,g?g.concat(E):[E])}),l.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return h(e),t}function jn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function dn(e,t){this._pairs=[],e&&he(e,this,t)}const qr=dn.prototype;qr.append=function(t,n){this._pairs.push([t,n])};qr.toString=function(t){const n=t?function(r){return t.call(this,r,jn)}:jn;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Cs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zr(e,t,n){if(!t)return e;const r=n&&n.encode||Cs,i=n&&n.serialize;let s;if(i?s=i(t,n):s=d.isURLSearchParams(t)?t.toString():new dn(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Ys{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Hn=Ys,Wr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fs=typeof URLSearchParams<"u"?URLSearchParams:dn,Ms=typeof FormData<"u"?FormData:null,js=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Hs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),j={isBrowser:!0,classes:{URLSearchParams:Fs,FormData:Ms,Blob},isStandardBrowserEnv:js,isStandardBrowserWebWorkerEnv:Hs,protocols:["http","https","file","blob","url","data"]};function qs(e,t){return he(e,new j.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return j.isNode&&d.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function zs(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ws(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Jr(e){function t(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&d.isArray(i)?i.length:o,u?(d.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!d.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&d.isArray(i[o])&&(i[o]=Ws(i[o])),!a)}if(d.isFormData(e)&&d.isFunction(e.entries)){const n={};return d.forEachEntry(e,(r,i)=>{t(zs(r),i,n,0)}),n}return null}const Js={"Content-Type":void 0};function Ks(e,t,n){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const me={transitional:Wr,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=d.isObject(t);if(s&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return i&&i?JSON.stringify(Jr(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qs(t,this.formSerializer).toString();if((a=d.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return he(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Ks(t)):t}],transformResponse:[function(t){const n=this.transitional||me.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&d.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?S.from(a,S.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:j.classes.FormData,Blob:j.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(t){me.headers[t]={}});d.forEach(["post","put","patch"],function(t){me.headers[t]=d.merge(Js)});const _n=me,Vs=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xs=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Vs[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},qn=Symbol("internals");function kt(e){return e&&String(e).trim().toLowerCase()}function re(e){return e===!1||e==null?e:d.isArray(e)?e.map(re):String(e)}function Qs(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}function Zs(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function Ie(e,t,n,r,i){if(d.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!d.isString(t)){if(d.isString(r))return t.indexOf(r)!==-1;if(d.isRegExp(r))return r.test(t)}}function to(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function eo(e,t){const n=d.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class ge{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,u,c){const f=kt(u);if(!f)throw new Error("header name must be a non-empty string");const l=d.findKey(i,f);(!l||i[l]===void 0||c===!0||c===void 0&&i[l]!==!1)&&(i[l||u]=re(a))}const o=(a,u)=>d.forEach(a,(c,f)=>s(c,f,u));return d.isPlainObject(t)||t instanceof this.constructor?o(t,n):d.isString(t)&&(t=t.trim())&&!Zs(t)?o(Xs(t),n):t!=null&&s(n,t,r),this}get(t,n){if(t=kt(t),t){const r=d.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Qs(i);if(d.isFunction(n))return n.call(this,i,r);if(d.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kt(t),t){const r=d.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ie(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=kt(o),o){const a=d.findKey(r,o);a&&(!n||Ie(r,r[a],a,n))&&(delete r[a],i=!0)}}return d.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Ie(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return d.forEach(this,(i,s)=>{const o=d.findKey(r,s);if(o){n[o]=re(i),delete n[s];return}const a=t?to(s):String(s).trim();a!==s&&delete n[s],n[a]=re(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return d.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&d.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[qn]=this[qn]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=kt(o);r[a]||(eo(i,o),r[a]=!0)}return d.isArray(t)?t.forEach(s):s(t),this}}ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.freezeMethods(ge.prototype);d.freezeMethods(ge);const J=ge;function ke(e,t){const n=this||_n,r=t||n,i=J.from(r.headers);let s=r.data;return d.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Kr(e){return!!(e&&e.__CANCEL__)}function zt(e,t,n){S.call(this,e??"canceled",S.ERR_CANCELED,t,n),this.name="CanceledError"}d.inherits(zt,S,{__CANCEL__:!0});function no(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new S("Request failed with status code "+n.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ro=j.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const u=[];u.push(n+"="+encodeURIComponent(r)),d.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),d.isString(s)&&u.push("path="+s),d.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function io(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function so(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Vr(e,t){return e&&!io(t)?so(e,t):t}const oo=j.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=d.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function ao(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function co(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),f=r[s];o||(o=c),n[i]=u,r[i]=c;let l=s,m=0;for(;l!==i;)m+=n[l++],l=l%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const h=f&&c-f;return h?Math.round(m*1e3/h):void 0}}function zn(e,t){let n=0;const r=co(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,u=r(a),c=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&c?(o-s)/u:void 0,event:i};f[t?"download":"upload"]=!0,e(f)}}const uo=typeof XMLHttpRequest<"u",fo=uo&&function(e){return new Promise(function(n,r){let i=e.data;const s=J.from(e.headers).normalize(),o=e.responseType;let a;function u(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}d.isFormData(i)&&(j.isStandardBrowserEnv||j.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+p))}const f=Vr(e.baseURL,e.url);c.open(e.method.toUpperCase(),zr(f,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function l(){if(!c)return;const h=J.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:e,request:c};no(function(b){n(b),u()},function(b){r(b),u()},g),c=null}if("onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(l)},c.onabort=function(){c&&(r(new S("Request aborted",S.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new S("Network Error",S.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||Wr;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new S(p,g.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,c)),c=null},j.isStandardBrowserEnv){const h=(e.withCredentials||oo(f))&&e.xsrfCookieName&&ro.read(e.xsrfCookieName);h&&s.set(e.xsrfHeaderName,h)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&d.forEach(s.toJSON(),function(p,g){c.setRequestHeader(g,p)}),d.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&o!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",zn(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",zn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=h=>{c&&(r(!h||h.type?new zt(null,e,c):h),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const m=ao(f);if(m&&j.protocols.indexOf(m)===-1){r(new S("Unsupported protocol "+m+":",S.ERR_BAD_REQUEST,e));return}c.send(i||null)})},ie={http:$s,xhr:fo};d.forEach(ie,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lo={getAdapter:e=>{e=d.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=d.isString(n)?ie[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new S(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(d.hasOwnProp(ie,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!d.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ie};function Be(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zt(null,e)}function Wn(e){return Be(e),e.headers=J.from(e.headers),e.data=ke.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lo.getAdapter(e.adapter||_n.adapter)(e).then(function(r){return Be(e),r.data=ke.call(e,e.transformResponse,r),r.headers=J.from(r.headers),r},function(r){return Kr(r)||(Be(e),r&&r.response&&(r.response.data=ke.call(e,e.transformResponse,r.response),r.response.headers=J.from(r.response.headers))),Promise.reject(r)})}const Jn=e=>e instanceof J?e.toJSON():e;function St(e,t){t=t||{};const n={};function r(c,f,l){return d.isPlainObject(c)&&d.isPlainObject(f)?d.merge.call({caseless:l},c,f):d.isPlainObject(f)?d.merge({},f):d.isArray(f)?f.slice():f}function i(c,f,l){if(d.isUndefined(f)){if(!d.isUndefined(c))return r(void 0,c,l)}else return r(c,f,l)}function s(c,f){if(!d.isUndefined(f))return r(void 0,f)}function o(c,f){if(d.isUndefined(f)){if(!d.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function a(c,f,l){if(l in t)return r(c,f);if(l in e)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,f)=>i(Jn(c),Jn(f),!0)};return d.forEach(Object.keys(e).concat(Object.keys(t)),function(f){const l=u[f]||i,m=l(e[f],t[f],f);d.isUndefined(m)&&l!==a||(n[f]=m)}),n}const Xr="1.3.3",pn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Kn={};pn.transitional=function(t,n,r){function i(s,o){return"[Axios v"+Xr+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new S(i(o," has been removed"+(n?" in "+n:"")),S.ERR_DEPRECATED);return n&&!Kn[o]&&(Kn[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function _o(e,t,n){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],u=a===void 0||o(a,s,e);if(u!==!0)throw new S("option "+s+" must be "+u,S.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new S("Unknown option "+s,S.ERR_BAD_OPTION)}}const qe={assertOptions:_o,validators:pn},V=qe.validators;class ce{constructor(t){this.defaults=t,this.interceptors={request:new Hn,response:new Hn}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=St(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&qe.assertOptions(r,{silentJSONParsing:V.transitional(V.boolean),forcedJSONParsing:V.transitional(V.boolean),clarifyTimeoutError:V.transitional(V.boolean)},!1),i!==void 0&&qe.assertOptions(i,{encode:V.function,serialize:V.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&d.merge(s.common,s[n.method]),o&&d.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=J.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let f,l=0,m;if(!u){const p=[Wn.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),m=p.length,f=Promise.resolve(n);l<m;)f=f.then(p[l++],p[l++]);return f}m=a.length;let h=n;for(l=0;l<m;){const p=a[l++],g=a[l++];try{h=p(h)}catch(O){g.call(this,O);break}}try{f=Wn.call(this,h)}catch(p){return Promise.reject(p)}for(l=0,m=c.length;l<m;)f=f.then(c[l++],c[l++]);return f}getUri(t){t=St(this.defaults,t);const n=Vr(t.baseURL,t.url);return zr(n,t.params,t.paramsSerializer)}}d.forEach(["delete","get","head","options"],function(t){ce.prototype[t]=function(n,r){return this.request(St(r||{},{method:t,url:n,data:(r||{}).data}))}});d.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(St(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ce.prototype[t]=n(),ce.prototype[t+"Form"]=n(!0)});const se=ce;class hn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new zt(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new hn(function(i){t=i}),cancel:t}}}const po=hn;function ho(e){return function(n){return e.apply(null,n)}}function mo(e){return d.isObject(e)&&e.isAxiosError===!0}const ze={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ze).forEach(([e,t])=>{ze[t]=e});const go=ze;function Qr(e){const t=new se(e),n=Ur(se.prototype.request,t);return d.extend(n,se.prototype,t,{allOwnKeys:!0}),d.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Qr(St(e,i))},n}const I=Qr(_n);I.Axios=se;I.CanceledError=zt;I.CancelToken=po;I.isCancel=Kr;I.VERSION=Xr;I.toFormData=he;I.AxiosError=S;I.Cancel=I.CanceledError;I.all=function(t){return Promise.all(t)};I.spread=ho;I.isAxiosError=mo;I.mergeConfig=St;I.AxiosHeaders=J;I.formToJSON=e=>Jr(d.isHTMLForm(e)?new FormData(e):e);I.HttpStatusCode=go;I.default=I;const Eo=I;function yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var We={},So={get exports(){return We},set exports(e){We=e}},Zr={};function L(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var To=L;L.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};L.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};L.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};L.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};L.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};L.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};L.prototype.start=L.prototype.try;L.prototype.errors=function(){return this._errors};L.prototype.attempts=function(){return this._attempts};L.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=n&&(t=i,n=o)}return t};(function(e){var t=To;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<r.retries;o++)s.push(this.createTimeout(o,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(o,r)),s.sort(function(a,u){return a-u}),s},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],u=n[a];n[a]=function(f){var l=e.operation(r),m=Array.prototype.slice.call(arguments,1),h=m.pop();m.push(function(p){l.retry(p)||(p&&(arguments[0]=l.mainError()),h.apply(this,arguments))}),l.attempt(function(){f.apply(n,m)})}.bind(n,u),n[a].options=r}}})(Zr);(function(e){e.exports=Zr})(So);const bo=yo(We);function Vn(e){const t=bo.operation({retries:5,factor:1,minTimeout:1e3,maxTimeout:1e4});return new Promise((n,r)=>{t.attempt(async i=>{try{const s=await Eo.get(e);n(s)}catch(s){t.retry(s)||r(s)}})})}async function Ro(e){const t=new RegExp("reddit.com/gallery/.+"),n=new RegExp("/r/.+/comments/.+/");let r=null;const i=c=>c.data[0].data.children[0].data;if(t.test(e)){const c=e.split("/").slice(-1)[0];r=await Vn(`https://www.reddit.com/${c}.json`).then(i)}else if(n.test(e))r=await Vn(`${e}.json`).then(i);else return[];const{gallery_data:s,media_metadata:o}=r,a=Object.entries(o).map(c=>{const[f,l]=c,m=l.p.slice(-1)[0].u.replace(/&amp;/g,"&");return[f,m]}),u=Object.fromEntries(a);return s.items.map(({media_id:c})=>u[c])}const lt=[];function wo(e,t){return{subscribe:ti(e,t).subscribe}}function ti(e,t=Y){let n;const r=new Set;function i(a){if(Ir(e,a)&&(e=a,n)){const u=!lt.length;for(const c of r)c[1](),lt.push(c,e);if(u){for(let c=0;c<lt.length;c+=2)lt[c][0](lt[c+1]);lt.length=0}}}function s(a){i(a(e))}function o(a,u=Y){const c=[a,u];return r.add(c),r.size===1&&(n=t(i)||Y),a(e),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function No(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,s=t.length<2;return wo(n,o=>{let a=!1;const u=[];let c=0,f=Y;const l=()=>{if(c)return;f();const h=t(r?u[0]:u,o);s?o(h):f=on(h)?h:Y},m=i.map((h,p)=>kr(h,g=>{u[p]=g,c&=~(1<<p),a&&l()},()=>{c|=1<<p}));return a=!0,l(),function(){Nt(m),f()}})}function Xn(e,t,n){const r=e.slice();return r[9]=t[n],r}function Qn(e,t,n){const r=e.slice();return r[12]=t[n][0],r[13]=t[n][1],r}function Zn(e){let t,n,r=e[13]+"",i,s,o,a;function u(){return e[6](e[12])}return{c(){t=G("li"),n=G("a"),i=Br(r),s=At(),D(n,"href","#"),D(n,"role","button"),D(n,"class","secondary outline svelte-16v2rz5"),D(t,"class","svelte-16v2rz5")},m(c,f){an(c,t,f),U(t,n),U(n,i),U(t,s),o||(a=Ye(n,"click",u),o=!0)},p(c,f){e=c},d(c){c&&_e(t),o=!1,a()}}}function tr(e){let t,n,r,i,s,o;return{c(){t=G("a"),n=G("img"),s=At(),D(n,"class",e[0]),D(n,"alt",r=e[9]),$n(n.src,i=e[9])||D(n,"src",i),D(t,"href",o=e[9])},m(a,u){an(a,t,u),U(t,n),U(t,s)},p(a,u){u&1&&D(n,"class",a[0]),u&2&&r!==(r=a[9])&&D(n,"alt",r),u&2&&!$n(n.src,i=a[9])&&D(n,"src",i),u&2&&o!==(o=a[9])&&D(t,"href",o)},d(a){a&&_e(t)}}}function vo(e){let t,n,r,i,s,o,a,u,c,f,l,m,h,p=e[2],g=[];for(let E=0;E<p.length;E+=1)g[E]=Zn(Qn(e,p,E));let O=e[1],b=[];for(let E=0;E<O.length;E+=1)b[E]=tr(Xn(e,O,E));return{c(){t=G("body"),n=G("nav"),r=G("ul"),r.innerHTML="<li><strong>Reddit Gallery Scroller</strong></li>",i=At(),s=G("ul");for(let E=0;E<g.length;E+=1)g[E].c();o=At(),a=G("main"),u=G("form"),c=G("input"),f=At(),l=G("content");for(let E=0;E<b.length;E+=1)b[E].c();D(n,"class","container-fluid"),D(c,"type","search"),D(c,"id","search"),D(c,"name","search"),D(c,"placeholder","Paste a Reddit Gallery URL..."),D(c,"class","svelte-16v2rz5"),D(u,"class","svelte-16v2rz5"),D(l,"class","svelte-16v2rz5"),D(a,"class","container")},m(E,C){an(E,t,C),U(t,n),U(n,r),U(n,i),U(n,s);for(let y=0;y<g.length;y+=1)g[y].m(s,null);U(t,o),U(t,a),U(a,u),U(u,c),U(a,f),U(a,l);for(let y=0;y<b.length;y+=1)b[y].m(l,null);m||(h=[Ye(c,"input",e[7]),Ye(c,"submit",Do)],m=!0)},p(E,[C]){if(C&12){p=E[2];let y;for(y=0;y<p.length;y+=1){const It=Qn(E,p,y);g[y]?g[y].p(It,C):(g[y]=Zn(It),g[y].c(),g[y].m(s,null))}for(;y<g.length;y+=1)g[y].d(1);g.length=p.length}if(C&3){O=E[1];let y;for(y=0;y<O.length;y+=1){const It=Xn(E,O,y);b[y]?b[y].p(It,C):(b[y]=tr(It),b[y].c(),b[y].m(l,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=O.length}},i:Y,o:Y,d(E){E&&_e(t),Gn(g,E),Gn(b,E),m=!1,Nt(h)}}}const Do=e=>e.preventDefault();function Oo(e,t,n){let r;const i=[["fit-height","Fit Height"],["fit-width","Fit Width"]];let s=i[0][0];const o=m=>{n(0,s=m)};let a=ti(window.location.search);const u=m=>{const h=m.target;window.history.pushState(null,"","?"+(h==null?void 0:h.value)),a.set(h==null?void 0:h.value)};let c=No(a,(m,h)=>{Ro(m).then(p=>{h(p)})},[]);return Wi(e,c,m=>n(1,r=m)),[s,r,i,o,u,c,m=>o(m),m=>u(m)]}class Io extends is{constructor(t){super(),rs(this,t,Oo,vo,Ir,{})}}const ei=Object.prototype.toString;function ni(e){switch(ei.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return H(e,Error)}}function Dt(e,t){return ei.call(e)===`[object ${t}]`}function ri(e){return Dt(e,"ErrorEvent")}function er(e){return Dt(e,"DOMError")}function ko(e){return Dt(e,"DOMException")}function st(e){return Dt(e,"String")}function ii(e){return e===null||typeof e!="object"&&typeof e!="function"}function Tt(e){return Dt(e,"Object")}function mn(e){return typeof Event<"u"&&H(e,Event)}function Bo(e){return typeof Element<"u"&&H(e,Element)}function Ao(e){return Dt(e,"RegExp")}function gn(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Uo(e){return Tt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function si(e){return typeof e=="number"&&e!==e}function H(e,t){try{return e instanceof t}catch{return!1}}function Kt(e){return e&&e.Math==Math?e:void 0}const $=typeof globalThis=="object"&&Kt(globalThis)||typeof window=="object"&&Kt(window)||typeof self=="object"&&Kt(self)||typeof global=="object"&&Kt(global)||function(){return this}()||{};function Ee(){return $}function En(e,t,n){const r=n||$,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const oe=Ee(),xo=80;function Lt(e,t={}){try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",u=a.length;let c;const f=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||xo;for(;n&&s++<r&&(c=Po(n,f),!(c==="html"||s>1&&o+i.length*u+c.length>=l));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Po(e,t){const n=e,r=[];let i,s,o,a,u;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(c&&c.length)c.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&st(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)r.push(`.${s[u]}`);const f=["aria-label","type","name","title","alt"];for(u=0;u<f.length;u++)o=f[u],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function $o(){try{return oe.document.location.href}catch{return""}}function oi(e){return oe.document&&oe.document.querySelector?oe.document.querySelector(e):null}class B extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const Go=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Lo(e){return e==="http"||e==="https"}function yn(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Co(e){const t=Go.exec(e);if(!t)throw new B(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",s,o="",a]=t.slice(1);let u="",c=a;const f=c.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),c=f.pop()),c){const l=c.match(/^\d+/);l&&(c=l[0])}return ai({host:s,pass:i,path:u,projectId:c,port:o,protocol:n,publicKey:r})}function ai(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Yo(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach(s=>{if(!e[s])throw new B(`Invalid Sentry Dsn: ${s} missing`)}),!n.match(/^\d+$/))throw new B(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!Lo(r))throw new B(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new B(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function Fo(e){const t=typeof e=="string"?Co(e):ai(e);return Yo(t),t}const Mo="Sentry Logger ",ue=["debug","info","warn","error","log","assert","trace"];function ci(e){if(!("console"in $))return e();const t=$.console,n={};ue.forEach(r=>{const i=t[r]&&t[r].__sentry_original__;r in t&&i&&(n[r]=t[r],t[r]=i)});try{return e()}finally{Object.keys(n).forEach(r=>{t[r]=n[r]})}}function nr(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?ue.forEach(n=>{t[n]=(...r)=>{e&&ci(()=>{$.console[n](`${Mo}[${n}]:`,...r)})}}):ue.forEach(n=>{t[n]=()=>{}}),t}let _;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?_=En("logger",nr):_=nr();function xt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function rr(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function jo(e,t,n=!1){return st(e)?Ao(t)?t.test(e):st(t)?n?e===t:e.includes(t):!1:!1}function ye(e,t=[],n=!1){return t.some(r=>jo(e,r,n))}function A(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if(typeof i=="function")try{ui(i,r)}catch{}e[t]=i}function Sn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function ui(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,Sn(e,"__sentry_original__",t)}function Tn(e){return e.__sentry_original__}function Ho(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function fi(e){if(ni(e))return{message:e.message,name:e.name,stack:e.stack,...sr(e)};if(mn(e)){const t={type:e.type,target:ir(e.target),currentTarget:ir(e.currentTarget),...sr(e)};return typeof CustomEvent<"u"&&H(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ir(e){try{return Bo(e)?Lt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function sr(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function qo(e,t=40){const n=Object.keys(fi(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return xt(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:xt(i,t)}return""}function tt(e){return Je(e,new Map)}function Je(e,t){if(Tt(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=Je(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(Je(i,t))}),r}return e}const zo=50,Ae=new Map;function li(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[];for(const s of t){let o=Ae.get(s);o||(o=new Map,Ae.set(s,o));const a=$._sentryDebugIds;a&&Object.keys(a).forEach(u=>{u.split(`
`).forEach(c=>{const f=s(c);f&&f.filename&&o.set(f.filename,a[u])})})}for(const s of n.split(`
`).slice(r)){if(s.length>1024)continue;const o=s.replace(/\(error: (.*)\)/,"$1");for(const a of t){const u=a(o);if(u){const c=Ae.get(a);if(c&&u.filename){const f=c.get(u.filename);f&&(u.debug_id=f)}i.push(u);break}}}return Jo(i)}}function Wo(e){return Array.isArray(e)?li(...e):e}function Jo(e){if(!e.length)return[];let t=e;const n=t[0].function||"",r=t[t.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(t=t.slice(1)),r.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,zo).map(i=>({...i,filename:i.filename||t[0].filename,function:i.function||"?"})).reverse()}const Ue="<anonymous>";function ot(e){try{return!e||typeof e!="function"?Ue:e.name||Ue}catch{return Ue}}const at=Ee();function di(){if(!("fetch"in at))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ke(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ko(){if(!di())return!1;if(Ke(at.fetch))return!0;let e=!1;const t=at.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ke(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Vo(){const e=at.chrome,t=e&&e.app&&e.app.runtime,n="history"in at&&!!at.history.pushState&&!!at.history.replaceState;return!t&&n}const w=Ee(),Pt={},or={};function Xo(e){if(!or[e])switch(or[e]=!0,e){case"console":Qo();break;case"dom":aa();break;case"xhr":na();break;case"fetch":Zo();break;case"history":ra();break;case"error":ca();break;case"unhandledrejection":ua();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("unknown instrumentation type:",e);return}}function P(e,t){Pt[e]=Pt[e]||[],Pt[e].push(t),Xo(e)}function F(e,t){if(!(!e||!Pt[e]))for(const n of Pt[e]||[])try{n(t)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ot(n)}
Error:`,r)}}function Qo(){"console"in w&&ue.forEach(function(e){e in w.console&&A(w.console,e,function(t){return function(...n){F("console",{args:n,level:e}),t&&t.apply(w.console,n)}})})}function Zo(){Ko()&&A(w,"fetch",function(e){return function(...t){const n={args:t,fetchData:{method:ta(t),url:ea(t)},startTimestamp:Date.now()};return F("fetch",{...n}),e.apply(w,t).then(r=>(F("fetch",{...n,endTimestamp:Date.now(),response:r}),r),r=>{throw F("fetch",{...n,endTimestamp:Date.now(),error:r}),r})}})}function ta(e=[]){return"Request"in w&&H(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function ea(e=[]){return typeof e[0]=="string"?e[0]:"Request"in w&&H(e[0],Request)?e[0].url:String(e[0])}function na(){if(!("XMLHttpRequest"in w))return;const e=XMLHttpRequest.prototype;A(e,"open",function(t){return function(...n){const r=this,i=n[1],s=r.__sentry_xhr__={method:st(n[0])?n[0].toUpperCase():n[0],url:n[1]};st(i)&&s.method==="POST"&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const o=function(){if(r.readyState===4){try{s.status_code=r.status}catch{}F("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?A(r,"onreadystatechange",function(a){return function(...u){return o(),a.apply(r,u)}}):r.addEventListener("readystatechange",o),t.apply(r,n)}}),A(e,"send",function(t){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),F("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}let Vt;function ra(){if(!Vo())return;const e=w.onpopstate;w.onpopstate=function(...n){const r=w.location.href,i=Vt;if(Vt=r,F("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Vt,o=String(i);Vt=o,F("history",{from:s,to:o})}return n.apply(this,r)}}A(w.history,"pushState",t),A(w.history,"replaceState",t)}const ia=1e3;let Xt,Qt;function sa(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function oa(e){if(e.type!=="keypress")return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function ar(e,t=!1){return n=>{if(!n||Qt===n||oa(n))return;const r=n.type==="keypress"?"input":n.type;Xt===void 0?(e({event:n,name:r,global:t}),Qt=n):sa(Qt,n)&&(e({event:n,name:r,global:t}),Qt=n),clearTimeout(Xt),Xt=w.setTimeout(()=>{Xt=void 0},ia)}}function aa(){if(!("document"in w))return;const e=F.bind(null,"dom"),t=ar(e,!0);w.document.addEventListener("click",t,!1),w.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=w[n]&&w[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(A(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},f=c[s]=c[s]||{refCount:0};if(!f.handler){const l=ar(e);f.handler=l,i.call(this,s,l,a)}f.refCount++}catch{}return i.call(this,s,o,a)}}),A(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const u=this,c=u.__sentry_instrumentation_handlers__||{},f=c[s];f&&(f.refCount--,f.refCount<=0&&(i.call(this,s,f.handler,a),f.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}let xe=null;function ca(){xe=w.onerror,w.onerror=function(e,t,n,r,i){return F("error",{column:r,error:i,line:n,msg:e,url:t}),xe?xe.apply(this,arguments):!1}}let Pe=null;function ua(){Pe=w.onunhandledrejection,w.onunhandledrejection=function(e){return F("unhandledrejection",e),Pe?Pe.apply(this,arguments):!0}}function fa(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function et(){const e=$,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function _i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ct(e){const{message:t,event_id:n}=e;if(t)return t;const r=_i(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ve(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function Ct(e,t){const n=_i(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function cr(e){if(e&&e.__sentry_captured__)return!0;try{Sn(e,"__sentry_captured__",!0)}catch{}return!1}function pi(e){return Array.isArray(e)?e:[e]}function la(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function da(){return"npm"}function bn(){return!la()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Z(e,t){return e.require(t)}function _a(e){let t;try{t=Z(W,e)}catch{}try{const{cwd:n}=Z(W,"process");t=Z(W,`${n()}/node_modules/${e}`)}catch{}return t}function X(e,t=1/0,n=1/0){try{return Xe("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function hi(e,t=3,n=100*1024){const r=X(e,t);return ga(r)>n?hi(e,t-1,n):r}function Xe(e,t,n=1/0,r=1/0,i=fa()){const[s,o]=i;if(t===null||["number","boolean","string"].includes(typeof t)&&!si(t))return t;const a=pa(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(n===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return Xe("",m,n-1,r,i)}catch{}const c=Array.isArray(t)?[]:{};let f=0;const l=fi(t);for(const m in l){if(!Object.prototype.hasOwnProperty.call(l,m))continue;if(f>=r){c[m]="[MaxProperties ~]";break}const h=l[m];c[m]=Xe(m,h,n-1,r,i),f++}return o(t),c}function pa(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":Uo(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${ot(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${ha(t)}]`}catch(n){return`**non-serializable** (${n})`}}function ha(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function ma(e){return~-encodeURI(e).split(/%..|./).length}function ga(e){return ma(JSON.stringify(e))}var q;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(q||(q={}));function ut(e){return new x(t=>{t(e)})}function fe(e){return new x((t,n)=>{n(e)})}class x{__init(){this._state=q.PENDING}__init2(){this._handlers=[]}constructor(t){x.prototype.__init.call(this),x.prototype.__init2.call(this),x.prototype.__init3.call(this),x.prototype.__init4.call(this),x.prototype.__init5.call(this),x.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new x((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new x((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init3(){this._resolve=t=>{this._setResult(q.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(q.REJECTED,t)}}__init5(){this._setResult=(t,n)=>{if(this._state===q.PENDING){if(gn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===q.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===q.RESOLVED&&n[1](this._value),this._state===q.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Ea(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return fe(new B("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new x((a,u)=>{let c=t.length;if(!c)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(l=>{ut(l).then(()=>{--c||(clearTimeout(f),a(!0))},u)})})}return{$:t,add:i,drain:s}}function $e(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}const ya=["fatal","error","warning","log","info","debug"];function Sa(e){return e==="warn"?"warning":ya.includes(e)?e:"log"}const mi=Ee(),Qe={nowSeconds:()=>Date.now()/1e3};function Ta(){const{performance:e}=mi;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function ba(){try{return Z(W,"perf_hooks").performance}catch{return}}const Ge=bn()?ba():Ta(),ur=Ge===void 0?Qe:{nowSeconds:()=>(Ge.timeOrigin+Ge.now())/1e3},Se=Qe.nowSeconds.bind(Qe),Rn=ur.nowSeconds.bind(ur),Yt=Rn,Ft=(()=>{const{performance:e}=mi;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})(),Ra=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function wa(e){const t=e.match(Ra);if(!e||!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Te(e,t=[]){return[e,t]}function Na(e,t){const[n,r]=e;return[n,[...r,t]]}function fr(e,t){e[1].forEach(r=>{const i=r[0].type;t(r,i)})}function Ze(e,t){return(t||new TextEncoder).encode(e)}function gi(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[Ze(i,t),o]:i.push(typeof o=="string"?Ze(o,t):o)}for(const o of r){const[a,u]=o;if(s(`
${JSON.stringify(a)}
`),typeof u=="string"||u instanceof Uint8Array)s(u);else{let c;try{c=JSON.stringify(u)}catch{c=JSON.stringify(X(u))}s(c)}}return typeof i=="string"?i:va(i)}function va(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Da(e,t){const n=typeof e.data=="string"?Ze(e.data,t):e.data;return[tt({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Oa={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function lr(e){return Oa[e]}function Ei(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ia(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:yn(r)},...e.type==="transaction"&&i&&{trace:tt({...i})}}}function ka(e,t,n){const r=[{type:"client_report"},{timestamp:n||Se(),discarded_events:e}];return Te(t?{dsn:t}:{},[r])}const Ba=60*1e3;function Aa(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Ba:r-t}function Ua(e,t){return e[t]||e.all||0}function xa(e,t,n=Date.now()){return Ua(e,t)>n}function Pa(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[u,c]=a.split(":",2),f=parseInt(u,10),l=(isNaN(f)?60:f)*1e3;if(!c)i.all=r+l;else for(const m of c.split(";"))i[m]=r+l}else o?i.all=r+Aa(o,r):t===429&&(i.all=r+60*1e3);return i}const tn="baggage",yi="sentry-",$a=/^sentry-/,Ga=8192;function La(e){if(!st(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{const s=dr(i);return{...r,...s}},{});else{if(!e)return;t=dr(e)}const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match($a)){const o=i.slice(yi.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Si(e){const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${yi}${r}`]=i),n),{});return Ca(t)}function dr(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Ca(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>Ga?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}function Ya(e){const t=Rn(),n={sid:et(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ma(n)};return e&&bt(n,e),n}function bt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Rn(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:et()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Fa(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),bt(e,n)}function Ma(e){return tt({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const ja=100;class nt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const n=new nt;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&bt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof nt?n:this}return t instanceof nt?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Tt(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,n){const r=typeof n=="number"?n:ja;if(r<=0)return this;const i={timestamp:Se(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-r),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const r=this._span.transaction&&this._span.transaction.name;r&&(t.tags={transaction:r,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ti(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,n,r,i=0){return new x((s,o)=>{const a=t[i];if(n===null||typeof a!="function")s(n);else{const u=a({...n},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&u===null&&_.log(`Event processor "${a.id}" dropped event`),gn(u)?u.then(c=>this._notifyEventProcessors(t,c,r,i+1).then(s)).then(null,o):this._notifyEventProcessors(t,u,r,i+1).then(s).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?pi(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function Ti(){return En("globalEventProcessors",()=>[])}function be(e){Ti().push(e)}const wn=4,Ha=100;class Wt{__init(){this._stack=[{}]}constructor(t,n=new nt,r=wn){this._version=r,Wt.prototype.__init.call(this),this.getStackTop().scope=n,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=nt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:et(),i=new Error("Sentry syntheticException");return this._withClient((s,o)=>{s.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},o)}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:et(),s=new Error(t);return this._withClient((o,a)=>{o.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},a)}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:et();return t.type||(this._lastEventId=r),this._withClient((i,s)=>{i.captureEvent(t,{...n,event_id:r},s)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!r||!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Ha}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const u={timestamp:Se(),...t},c=s?ci(()=>s(u,n)):u;c!==null&&r.addBreadcrumb(c,o)}setUser(t){const n=this.getScope();n&&n.setUser(t)}setTags(t){const n=this.getScope();n&&n.setTags(t)}setExtras(t){const n=this.getScope();n&&n.setExtras(t)}setTag(t,n){const r=this.getScope();r&&r.setTag(t,n)}setExtra(t,n){const r=this.getScope();r&&r.setExtra(t,n)}setContext(t,n){const r=this.getScope();r&&r.setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();n&&r&&t(n)}run(t){const n=_r(this);try{t(this)}finally{_r(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){return this._callExtensionMethod("startTransaction",t,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),n=t&&t.scope,r=n&&n.getSession();r&&Fa(r),this._sendSessionUpdate(),n&&n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s}=r&&r.getOptions()||{},{userAgent:o}=$.navigator||{},a=Ya({release:i,environment:s,...n&&{user:n.getUser()},...o&&{userAgent:o},...t});if(n){const u=n.getSession&&n.getSession();u&&u.status==="ok"&&bt(u,{status:"exited"}),this.endSession(),n.setSession(a)}return a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop();if(!t)return;const r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){const{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){const i=Ot().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Ot(){return $.__SENTRY__=$.__SENTRY__||{extensions:{},hub:void 0},$}function _r(e){const t=Ot(),n=Q(t);return Nn(t,e),n}function N(){const e=Ot();return(!bi(e)||Q(e).isOlderThan(wn))&&Nn(e,new Wt),bn()?qa(e):Q(e)}function qa(e){try{const t=Ot().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return Q(e);if(!bi(n)||Q(n).isOlderThan(wn)){const r=Q(e).getStackTop();Nn(n,new Wt(r.client,nt.clone(r.scope)))}return Q(n)}catch{return Q(e)}}function bi(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Q(e){return En("hub",()=>new Wt,e)}function Nn(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function za(e,t){return N().captureException(e,{captureContext:t})}function Wa(e){N().withScope(e)}const Ja="7";function Ka(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Va(e){return`${Ka(e)}${e.projectId}/envelope/`}function Xa(e,t){return Ho({sentry_key:e.publicKey,sentry_version:Ja,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Ri(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Va(e)}?${Xa(e,r)}`}function Qa(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Za(e,t,n,r){const i=Ei(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&{dsn:yn(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return Te(s,[o])}function tc(e,t,n,r){const i=Ei(n),s=e.type&&e.type!=="replay_event"?e.type:"event";Qa(e,n&&n.sdk);const o=Ia(e,i,r,t);return delete e.sdkProcessingMetadata,Te(o,[[{type:s},e]])}const pr=[];function ec(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function nc(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=pi(n(t)):r=t;const i=ec(r),s=i.findIndex(o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function rc(e){const t={};return e.forEach(n=>{n&&wi(n,t)}),t}function wi(e,t){t[e.name]=e,pr.indexOf(e.name)===-1&&(e.setupOnce(be,N),pr.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`Integration installed: ${e.name}`))}function ic(e,t,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=e,o={...t,event_id:t.event_id||n.event_id||et(),timestamp:t.timestamp||Se()},a=n.integrations||e.integrations.map(f=>f.name);sc(o,e),oc(o,a);let u=r;n.captureContext&&(u=nt.clone(u).update(n.captureContext));let c=ut(o);if(u){if(u.getAttachments){const f=[...n.attachments||[],...u.getAttachments()];f.length&&(n.attachments=f)}c=u.applyToEvent(o,n)}return c.then(f=>typeof i=="number"&&i>0?ac(f,i,s):f)}function sc(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=xt(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=xt(o.value,s));const a=e.request;a&&a.url&&(a.url=xt(a.url,s))}function oc(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ac(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:X(i.data,t,n)}}))},...e.user&&{user:X(e.user,t,n)},...e.contexts&&{contexts:X(e.contexts,t,n)},...e.extra&&{extra:X(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=X(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>(i.data&&(i.data=X(i.data,t,n)),i))),r}const hr="Not capturing exception because it's already been captured.";class _t{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(_t.prototype.__init.call(this),_t.prototype.__init2.call(this),_t.prototype.__init3.call(this),_t.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=Fo(t.dsn);const n=Ri(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("No DSN provided, client will not do anything.")}captureException(t,n,r){if(cr(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(hr);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const o=ii(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(o.then(a=>this._captureEvent(a,r,i)).then(a=>{s=a})),s}captureEvent(t,n,r){if(n&&n.originalException&&cr(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(hr);return}let i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(s=>{i=s})),i}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),bt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i)):ut(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=rc(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){wi(t,this._integrations)}sendEvent(t,n={}){if(this._dsn){let r=tc(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Na(r,Da(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(t){if(this._dsn){const n=Za(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const c=u.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(bt(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new x(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,r){const i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),ic(i,t,n,r)}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const s=i;s.logLevel==="log"?_.log(s.message):_.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i;if(!this._isEnabled())return fe(new B("SDK not enabled, will not capture event.","log"));const o=vi(t),a=Ni(t),u=t.type||"error",c=`before send for type \`${u}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),fe(new B(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",f,t),new B("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return l;const h=uc(i,l,n);return cc(h,c)}).then(l=>{if(l===null)throw this.recordDroppedEvent("before_send",f,t),new B(`${c} returned \`null\`, will not send event.`,"log");const m=r&&r.getSession();!o&&m&&this._updateSessionFromEvent(m,l);const h=l.transaction_info;if(o&&h&&l.transaction!==t.transaction){const p="custom";l.transaction_info={...h,source:p}}return this.sendEvent(l,n),l}).then(null,l=>{throw l instanceof B?l:(this.captureException(l,{data:{__sentry__:!0},originalException:l}),new B(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function cc(e,t){const n=`${t} must return \`null\` or a valid event.`;if(gn(e))return e.then(r=>{if(!Tt(r)&&r!==null)throw new B(n);return r},r=>{throw new B(`${t} rejected with ${r}`)});if(!Tt(e)&&e!==null)throw new B(n);return e}function uc(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return Ni(t)&&r?r(t,n):vi(t)&&i?i(t,n):t}function Ni(e){return e.type===void 0}function vi(e){return e.type==="transaction"}function fc(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?_.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=N(),r=n.getScope();r&&r.update(t.initialScope);const i=new e(t);n.bindClient(i)}const lc=30;function Di(e,t,n=Ea(e.bufferSize||lc)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(fr(o,(l,m)=>{const h=lr(m);if(xa(r,h)){const p=mr(l,m);e.recordDroppedEvent("ratelimit_backoff",h,p)}else a.push(l)}),a.length===0)return ut();const u=Te(o[0],a),c=l=>{fr(u,(m,h)=>{const p=mr(m,h);e.recordDroppedEvent(l,lr(h),p)})},f=()=>t({body:gi(u,e.textEncoder)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Pa(r,l),l),l=>{throw c("network_error"),l});return n.add(f).then(l=>l,l=>{if(l instanceof B)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error("Skipped sending event because buffer is full."),c("queue_overflow"),ut();throw l})}return{send:s,flush:i}}function mr(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const le="7.38.0";let gr;class Mt{constructor(){Mt.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Mt.id}setupOnce(){gr=Function.prototype.toString,Function.prototype.toString=function(...t){const n=Tn(this)||this;return gr.apply(n,t)}}}Mt.__initStatic();const dc=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class ht{static __initStatic(){this.id="InboundFilters"}__init(){this.name=ht.id}constructor(t={}){this._options=t,ht.prototype.__init.call(this)}setupOnce(t,n){const r=i=>{const s=n();if(s){const o=s.getIntegration(ht);if(o){const a=s.getClient(),u=a?a.getOptions():{},c=_c(o._options,u);return pc(i,c)?null:i}}return i};r.id=this.name,t(r)}}ht.__initStatic();function _c(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...dc],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function pc(e,t){return t.ignoreInternal&&yc(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Event dropped due to being internal Sentry Error.
Event: ${ct(e)}`),!0):hc(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ct(e)}`),!0):mc(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ct(e)}.
Url: ${de(e)}`),!0):gc(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ct(e)}.
Url: ${de(e)}`),!0)}function hc(e,t){return!t||!t.length?!1:Ec(e).some(n=>ye(n,t))}function mc(e,t){if(!t||!t.length)return!1;const n=de(e);return n?ye(n,t):!1}function gc(e,t){if(!t||!t.length)return!0;const n=de(e);return n?ye(n,t):!0}function Ec(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error(`Cannot extract message for event ${ct(e)}`),[]}return[]}function yc(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Sc(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function de(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Sc(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error(`Cannot extract url for event ${ct(e)}`),null}}const T=$;let en=0;function Oi(){return en>0}function Tc(){en++,setTimeout(()=>{en--})}function Rt(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Tn(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Rt(o,t));return e.apply(this,s)}catch(s){throw Tc(),Wa(o=>{o.addEventProcessor(a=>(t.mechanism&&(Ve(a,void 0,void 0),Ct(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),za(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}ui(r,e),Sn(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ii(e,t){const n=vn(e,t),r={type:t&&t.name,value:Nc(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function bc(e,t,n,r){const s=N().getClient(),o=s&&s.getOptions().normalizeDepth,a={exception:{values:[{type:mn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${qo(t)}`}]},extra:{__serialized__:hi(t,o)}};if(n){const u=vn(e,n);u.length&&(a.exception.values[0].stacktrace={frames:u})}return a}function Le(e,t){return{exception:{values:[Ii(e,t)]}}}function vn(e,t){const n=t.stacktrace||t.stack||"",r=wc(t);try{return e(n,r)}catch{}return[]}const Rc=/Minified React error #\d+;/i;function wc(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Rc.test(e.message))return 1}return 0}function Nc(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function vc(e,t,n,r){const i=n&&n.syntheticException||void 0,s=Dn(e,t,i,r);return Ct(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),ut(s)}function Dc(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=nn(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ut(o)}function Dn(e,t,n,r,i){let s;if(ri(t)&&t.error)return Le(e,t.error);if(er(t)||ko(t)){const o=t;if("stack"in t)s=Le(e,t);else{const a=o.name||(er(o)?"DOMError":"DOMException"),u=o.message?`${a}: ${o.message}`:a;s=nn(e,u,n,r),Ve(s,u)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return ni(t)?Le(e,t):Tt(t)||mn(t)?(s=bc(e,t,n,i),Ct(s,{synthetic:!0}),s):(s=nn(e,t,n,r),Ve(s,`${t}`,void 0),Ct(s,{synthetic:!0}),s)}function nn(e,t,n,r){const i={message:t};if(r&&n){const s=vn(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}return i}const Zt=1024,ki="Breadcrumbs";class jt{static __initStatic(){this.id=ki}__init(){this.name=jt.id}constructor(t){jt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&P("console",Ic),this.options.dom&&P("dom",Oc(this.options.dom)),this.options.xhr&&P("xhr",kc),this.options.fetch&&P("fetch",Bc),this.options.history&&P("history",Ac)}addSentryBreadcrumb(t){this.options.sentry&&N().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:ct(t)},{event:t})}}jt.__initStatic();function Oc(e){function t(n){let r,i=typeof e=="object"?e.serializeAttribute:void 0,s=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;s&&s>Zt&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`\`dom.maxStringLength\` cannot exceed ${Zt}, but a value of ${s} was configured. Sentry will use ${Zt} instead.`),s=Zt),typeof i=="string"&&(i=[i]);try{r=n.event.target?Lt(n.event.target,{keyAttrs:i,maxStringLength:s}):Lt(n.event,{keyAttrs:i,maxStringLength:s})}catch{r="<unknown>"}r.length!==0&&N().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return t}function Ic(e){for(let n=0;n<e.args.length;n++)if(e.args[n]==="ref=Ref<"){e.args[n+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:Sa(e.level),message:rr(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${rr(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;N().addBreadcrumb(t,{input:e.args,level:e.level})}function kc(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:i}=e.xhr.__sentry_xhr__||{};N().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:i});return}}function Bc(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?N().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):N().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function Ac(e){let t=e.from,n=e.to;const r=$e(T.location.href);let i=$e(t);const s=$e(n);i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),N().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}class Uc extends _t{constructor(t){const n=T.SENTRY_SDK_SOURCE||da();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:le}],version:le},super(t),t.sendClientReports&&T.document&&T.document.addEventListener("visibilitychange",()=>{T.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return vc(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Dc(this._options.stackParser,t,n,r,this._options.attachStacktrace)}sendEvent(t,n){const r=this.getIntegrationById(ki);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(t),super.sendEvent(t,n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("Sending outcomes:",t);const n=Ri(this._dsn,this._options),r=ka(t,this._options.tunnel&&yn(this._dsn));try{Object.prototype.toString.call(T&&T.navigator)==="[object Navigator]"&&typeof T.navigator.sendBeacon=="function"&&!this._options.transportOptions?T.navigator.sendBeacon.bind(T.navigator)(n,gi(r)):this._sendEnvelope(r)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error(i)}}}let Bt;function xc(){if(Bt)return Bt;if(Ke(T.fetch))return Bt=T.fetch.bind(T);const e=T.document;let t=T.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Bt=t.bind(T)}function Pc(){Bt=void 0}function $c(e,t=xc()){function n(r){const i={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r.body.length<=65536,...e.fetchOptions};try{return t(e.url,i).then(s=>({statusCode:s.status,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")}}))}catch(s){return Pc(),fe(s)}}return Di(e,n)}const Gc=4;function Lc(e){function t(n){return new x((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===Gc&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return Di(e,t)}const Re="?",Cc=30,Yc=40,Fc=50;function On(e,t,n,r){const i={filename:e,abs_path:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const Mc=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,jc=/\((\S*)(?::(\d+))(?::(\d+))\)/,Hc=e=>{const t=Mc.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=jc.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=Bi(t[1]||Re,t[2]);return On(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},qc=[Cc,Hc],zc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Jc=e=>{const t=zc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Wc.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Re;return[i,r]=Bi(i,r),On(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Kc=[Fc,Jc],Vc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Xc=e=>{const t=Vc.exec(e);return t?On(t[2],t[1]||Re,+t[3],t[4]?+t[4]:void 0):void 0},Qc=[Yc,Xc],Zc=[qc,Kc,Qc],tu=li(...Zc),Bi=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Re,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class rt{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=rt.id}__init2(){this._installFunc={onerror:eu,onunhandledrejection:nu}}constructor(t){rt.prototype.__init.call(this),rt.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const r=this._installFunc[n];r&&t[n]&&(su(n),r(),this._installFunc[n]=void 0)}}}rt.__initStatic();function eu(){P("error",e=>{const[t,n,r]=xi();if(!t.getIntegration(rt))return;const{msg:i,url:s,line:o,column:a,error:u}=e;if(Oi()||u&&u.__sentry_own_request__)return;const c=u===void 0&&st(i)?iu(i,s,o,a):Ai(Dn(n,u||i,void 0,r,!1),s,o,a);c.level="error",Ui(t,u,c,"onerror")})}function nu(){P("unhandledrejection",e=>{const[t,n,r]=xi();if(!t.getIntegration(rt))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch{}if(Oi()||i&&i.__sentry_own_request__)return!0;const s=ii(i)?ru(i):Dn(n,i,void 0,r,!0);s.level="error",Ui(t,i,s,"onunhandledrejection")})}function ru(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function iu(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=ri(e)?e.message:e,o="Error";const a=s.match(i);return a&&(o=a[1],s=a[2]),Ai({exception:{values:[{type:o,value:s}]}},t,n,r)}function Ai(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,l=st(t)&&t.length>0?t:$o();return u.length===0&&u.push({colno:c,filename:l,function:"?",in_app:!0,lineno:f}),e}function su(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`Global Handler attached: ${e}`)}function Ui(e,t,n,r){Ct(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function xi(){const e=N(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}const ou=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ht{static __initStatic(){this.id="TryCatch"}__init(){this.name=Ht.id}constructor(t){Ht.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&A(T,"setTimeout",Er),this._options.setInterval&&A(T,"setInterval",Er),this._options.requestAnimationFrame&&A(T,"requestAnimationFrame",au),this._options.XMLHttpRequest&&"XMLHttpRequest"in T&&A(XMLHttpRequest.prototype,"send",cu);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:ou).forEach(uu)}}Ht.__initStatic();function Er(e){return function(...t){const n=t[0];return t[0]=Rt(n,{mechanism:{data:{function:ot(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function au(e){return function(t){return e.apply(this,[Rt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ot(e)},handled:!0,type:"instrument"}})])}}function cu(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&A(n,i,function(s){const o={mechanism:{data:{function:i,handler:ot(s)},handled:!0,type:"instrument"}},a=Tn(s);return a&&(o.mechanism.data.handler=ot(a)),Rt(s,o)})}),e.apply(this,t)}}function uu(e){const t=T,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(A(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Rt(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ot(s),target:e},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[i,Rt(s,{mechanism:{data:{function:"addEventListener",handler:ot(s),target:e},handled:!0,type:"instrument"}}),o])}}),A(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const u=a&&a.__sentry_wrapped__;u&&r.call(this,i,u,o)}catch{}return r.call(this,i,a,o)}}))}const fu="cause",lu=5;class mt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=mt.id}constructor(t={}){mt.prototype.__init.call(this),this._key=t.key||fu,this._limit=t.limit||lu}setupOnce(){const t=N().getClient();t&&be((n,r)=>{const i=N().getIntegration(mt);return i?du(t.getOptions().stackParser,i._key,i._limit,n,r):n})}}mt.__initStatic();function du(e,t,n,r,i){if(!r.exception||!r.exception.values||!i||!H(i.originalException,Error))return r;const s=Pi(e,n,i.originalException,t);return r.exception.values=[...s,...r.exception.values],r}function Pi(e,t,n,r,i=[]){if(!H(n[r],Error)||i.length+1>=t)return i;const s=Ii(e,n[r]);return Pi(e,t,n[r],r,[s,...i])}class gt{constructor(){gt.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=gt.id}setupOnce(){be(t=>{if(N().getIntegration(gt)){if(!T.navigator&&!T.location&&!T.document)return t;const n=t.request&&t.request.url||T.location&&T.location.href,{referrer:r}=T.document||{},{userAgent:i}=T.navigator||{},s={...t.request&&t.request.headers,...r&&{Referer:r},...i&&{"User-Agent":i}},o={...t.request,...n&&{url:n},headers:s};return{...t,request:o}}return t})}}gt.__initStatic();class Et{constructor(){Et.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Et.id}setupOnce(t,n){const r=i=>{if(i.type)return i;const s=n().getIntegration(Et);if(s){try{if(_u(i,s._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return s._previousEvent=i}return s._previousEvent=i}return i};r.id=this.name,t(r)}}Et.__initStatic();function _u(e,t){return t?!!(pu(e,t)||hu(e,t)):!1}function pu(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Gi(e,t)||!$i(e,t))}function hu(e,t){const n=yr(t),r=yr(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Gi(e,t)||!$i(e,t))}function $i(e,t){let n=Sr(e),r=Sr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function Gi(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function yr(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Sr(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const mu=[new ht,new Mt,new Ht,new jt,new rt,new mt,new Et,new gt];function gu(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=mu),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),T.SENTRY_RELEASE&&T.SENTRY_RELEASE.id&&(e.release=T.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Wo(e.stackParser||tu),integrations:nc(e),transport:e.transport||(di()?$c:Lc)};fc(Uc,t),e.autoSessionTracking&&Eu()}function Tr(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Eu(){if(typeof T.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=N();e.captureSession&&(Tr(e),P("history",({from:t,to:n})=>{t===void 0||t===n||Tr(N())}))}function yu(e){e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.svelte",packages:[{name:"npm:@sentry/svelte",version:le}],version:le},gu(e),Su()}function Su(){let e;const t=n=>(e===void 0&&(e=Tu()),e&&(n.modules={svelteKit:"latest",...n.modules}),n);t.id="svelteKitProcessor",be(t)}function Tu(){return oi("div#svelte-announcer")!==null}function In(e){const t=N().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function kn(e){const n=(e||N()).getScope();return n&&n.getTransaction()}function k(e){return e/1e3}function bu(){P("error",br),P("unhandledrejection",br)}function br(){const e=kn();if(e){const t="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}class we{__init(){this.spans=[]}constructor(t=1e3){we.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class z{__init2(){this.traceId=et()}__init3(){this.spanId=et().substring(16)}__init4(){this.startTimestamp=Yt()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(t){if(z.prototype.__init2.call(this),z.prototype.__init3.call(this),z.prototype.__init4.call(this),z.prototype.__init5.call(this),z.prototype.__init6.call(this),z.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}startChild(t){const n=new z({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){const r=t&&t.op||"< unknown op >",i=n.transaction.name||"< unknown name >",s=n.transaction.spanId,o=`[Tracing] Starting '${r}' span on transaction '${i}' (${s}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},_.log(o)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const n=Ru(t);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(t){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&_.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:Yt()}toTraceparent(){let t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return tt({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return tt({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return tt({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function Ru(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class yt extends z{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(t,n){super(t),yt.prototype.__init.call(this),yt.prototype.__init2.call(this),yt.prototype.__init3.call(this),this._hub=n||N(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new we(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(this.endTimestamp!==void 0)return;if(this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const o=this._hub.getClient();o&&o.recordDroppedEvent("sample_rate","transaction");return}const n=this.spanRecorder?this.spanRecorder.spans.filter(o=>o!==this&&o.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((o,a)=>o.endTimestamp&&a.endTimestamp?o.endTimestamp>a.endTimestamp?o:a:o).endTimestamp);const r=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}toContext(){const t=super.toContext();return tt({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||N(),n=t&&t.getClient();if(!n)return{};const{environment:r,release:i}=n.getOptions()||{},{publicKey:s}=n.getDsn()||{},o=this.metadata.sampleRate,a=o!==void 0?o.toString():void 0,u=t.getScope(),{segment:c}=u&&u.getUser()||{},f=this.metadata.source,l=f&&f!=="url"?this.name:void 0;return tt({environment:r,release:i,transaction:l,user_segment:c,public_key:s,trace_id:this.traceId,sample_rate:a})}}const Li=1e3,Ci=3e4,Yi=5e3;class wu extends we{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){t.spanId!==this.transactionSpanId&&(t.finish=n=>{t.endTimestamp=typeof n=="number"?n:Yt(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}}class pt extends yt{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(t,n,r=Li,i=Ci,s=Yi,o=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,pt.prototype.__init.call(this),pt.prototype.__init2.call(this),pt.prototype.__init3.call(this),pt.prototype.__init4.call(this),o&&(Rr(n),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(a=>a.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(t=Yt()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const r=n.startTimestamp<t;return r||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),r}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] No active IdleTransaction");return this._onScope&&Rr(this._idleHub),super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new wu(n,r,this.spanId,t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(t){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(t)},this._idleTimeout)}_pushActivity(t){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] popActivity ${t}`),delete this.activities[t],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Yt()+this._idleTimeout/1e3;this._startIdleTimeout(n)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Rr(e){const t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}function Nu(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function Fi(e,t,n){if(!In(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})),vu(r)?r?(e.sampled=Math.random()<r,e.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function vu(e){return si(e)||!(typeof e=="number"||typeof e=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Du(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new yt(e,this);return o=Fi(o,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),o}function wr(e,t,n,r,i,s,o){const a=e.getClient(),u=a&&a.getOptions()||{};let c=new pt(t,e,n,r,o,i);return c=Fi(c,u,{parentSampled:t.parentSampled,transactionContext:t,...s}),c.sampled&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c}function Ou(){const e=Ot();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Du),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Nu))}function Iu(){const e=Ot();if(!e.__SENTRY__)return;const t={mongodb(){const r=Z(W,"./integrations/node/mongo");return new r.Mongo},mongoose(){const r=Z(W,"./integrations/node/mongo");return new r.Mongo({mongoose:!0})},mysql(){const r=Z(W,"./integrations/node/mysql");return new r.Mysql},pg(){const r=Z(W,"./integrations/node/postgres");return new r.Postgres}},n=Object.keys(t).filter(r=>!!_a(r)).map(r=>{try{return t[r]()}catch{return}}).filter(r=>r);n.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...n])}function ku(){Ou(),bn()&&Iu(),bu()}const R=$;function Bu(){R&&R.document?R.document.addEventListener("visibilitychange",()=>{const e=kn();if(R.document.hidden&&e){const t="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Bn=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}},Au=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Uu=()=>{const e=R.performance.timing,t=R.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},Mi=()=>R.__WEB_VITALS_POLYFILL__?R.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Uu()):R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ji=()=>{const e=Mi();return e&&e.activationStart||0},An=(e,t)=>{const n=Mi();let r="navigate";return n&&(R.document.prerendering||ji()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Au(),navigationType:r}},Ne=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},ve=(e,t)=>{const n=r=>{(r.type==="pagehide"||R.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},xu=e=>{const t=An("CLS",0);let n,r=0,i=[];const s=a=>{a.forEach(u=>{if(!u.hadRecentInput){const c=i[0],f=i[i.length-1];r&&i.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-c.startTime<5e3?(r+=u.value,i.push(u)):(r=u.value,i=[u]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=Ne("layout-shift",s);o&&(n=Bn(e,t),ve(()=>{s(o.takeRecords()),n(!0)}))};let ae=-1;const Pu=()=>R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0,$u=()=>{ve(({timeStamp:e})=>{ae=e},!0)},Un=()=>(ae<0&&(ae=Pu(),$u()),{get firstHiddenTime(){return ae}}),Gu=e=>{const t=Un(),n=An("FID");let r;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=Ne("first-input",s);r=Bn(e,n),o&&ve(()=>{s(o.takeRecords()),o.disconnect()},!0)},Nr={},Lu=e=>{const t=Un(),n=An("LCP");let r;const i=o=>{const a=o[o.length-1];if(a){const u=Math.max(a.startTime-ji(),0);u<t.firstHiddenTime&&(n.value=u,n.entries=[a],r())}},s=Ne("largest-contentful-paint",i);if(s){r=Bn(e,n);const o=()=>{Nr[n.id]||(i(s.takeRecords()),s.disconnect(),Nr[n.id]=!0,r(!0))};["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),ve(o,!0)}};function Ce(e){return typeof e=="number"&&isFinite(e)}function wt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function Hi(){return R&&R.addEventListener&&R.performance}let vr=0,v={},M,$t;function Cu(){const e=Hi();e&&Ft&&(e.mark&&R.performance.mark("sentry-tracing-init"),Fu(),Mu(),ju())}function Yu(){Ne("longtask",t=>{for(const n of t){const r=kn();if(!r)return;const i=k(Ft+n.startTime),s=k(n.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+s})}})}function Fu(){xu(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding CLS"),v.cls={value:e.value,unit:""},$t=t)})}function Mu(){Lu(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding LCP"),v.lcp={value:e.value,unit:"millisecond"},M=t)})}function ju(){Gu(e=>{const t=e.entries.pop();if(!t)return;const n=k(Ft),r=k(t.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding FID"),v.fid={value:e.value,unit:"millisecond"},v["mark.fid"]={value:n+r,unit:"second"}})}function Hu(e){const t=Hi();if(!t||!R.performance.getEntries||!Ft)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Tracing] Adding & adjusting spans using Performance API");const n=k(Ft),r=t.getEntries();let i,s;if(r.slice(vr).forEach(o=>{const a=k(o.startTime),u=k(o.duration);if(!(e.op==="navigation"&&n+a<e.startTimestamp))switch(o.entryType){case"navigation":{zu(e,o,n),i=n+k(o.responseStart),s=n+k(o.requestStart);break}case"mark":case"paint":case"measure":{qu(e,o,a,u,n);const c=Un(),f=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&f&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding FP"),v.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&f&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding FCP"),v.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const c=o.name.replace(R.location.origin,"");Ju(e,o,c,a,u,n);break}}}),vr=Math.max(r.length-1,0),Ku(e),e.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding TTFB"),v.ttfb={value:(i-e.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&(v["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!v[a]||n>=e.startTimestamp)return;const u=v[a].value,c=n+k(u),f=Math.abs((c-e.startTimestamp)*1e3),l=f-u;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Measurements] Normalized ${a} from ${u} to ${f} (${l})`),v[a].value=f});const o=v["mark.fid"];o&&v.fid&&(wt(e,{description:"first input delay",endTimestamp:o.value+k(v.fid.value),op:"ui.action",startTimestamp:o.value}),delete v["mark.fid"]),"fcp"in v||delete v.cls,Object.keys(v).forEach(a=>{e.setMeasurement(a,v[a].value,v[a].unit)}),Vu(e)}M=void 0,$t=void 0,v={}}function qu(e,t,n,r,i){const s=i+n,o=s+r;return wt(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:s}),s}function zu(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{te(e,t,r,n)}),te(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),te(e,t,"fetch",n,"cache","domainLookupStart"),te(e,t,"domainLookup",n,"DNS"),Wu(e,t,n)}function te(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||wt(e,{op:"browser",description:i||n,startTimestamp:r+k(a),endTimestamp:r+k(o)})}function Wu(e,t,n){wt(e,{op:"browser",description:"request",startTimestamp:n+k(t.requestStart),endTimestamp:n+k(t.responseEnd)}),wt(e,{op:"browser",description:"response",startTimestamp:n+k(t.responseStart),endTimestamp:n+k(t.responseEnd)})}function Ju(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);const a=s+r,u=a+i;wt(e,{description:n,endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:a,data:o})}function Ku(e){const t=R.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Ce(n.rtt)&&(v["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ce(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Ce(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Vu(e){M&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding LCP Data"),M.element&&e.setTag("lcp.element",Lt(M.element)),M.id&&e.setTag("lcp.id",M.id),M.url&&e.setTag("lcp.url",M.url.trim().slice(0,200)),e.setTag("lcp.size",M.size)),$t&&$t.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log("[Measurements] Adding CLS Data"),$t.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Lt(t.node))))}const rn=["localhost",/^\//],sn={traceFetch:!0,traceXHR:!0,tracingOrigins:rn,tracePropagationTargets:rn};function Xu(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s}={traceFetch:sn.traceFetch,traceXHR:sn.traceXHR,...e},o=typeof s=="function"?s:c=>!0,a=c=>Qu(c,r||i),u={};t&&P("fetch",c=>{Zu(c,o,a,u)}),n&&P("xhr",c=>{ef(c,o,a,u)})}function Qu(e,t){return ye(e,t||rn)}function Zu(e,t,n,r){if(!In()||!(e.fetchData&&t(e.fetchData.url)))return;if(e.endTimestamp){const a=e.fetchData.__span;if(!a)return;const u=r[a];u&&(e.response?u.setHttpStatus(e.response.status):e.error&&u.setStatus("internal_error"),u.finish(),delete r[a]);return}const i=N().getScope(),s=i&&i.getSpan(),o=s&&s.transaction;if(s&&o){const a=s.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=a.spanId,r[a.spanId]=a;const u=e.args[0];e.args[1]=e.args[1]||{};const c=e.args[1];n(e.fetchData.url)&&(c.headers=tf(u,o.getDynamicSamplingContext(),a,c))}}function tf(e,t,n,r){const i=Si(t),s=n.toTraceparent(),o=typeof Request<"u"&&H(e,Request)?e.headers:r.headers;if(o)if(typeof Headers<"u"&&H(o,Headers)){const a=new Headers(o);return a.append("sentry-trace",s),i&&a.append(tn,i),a}else if(Array.isArray(o)){const a=[...o,["sentry-trace",s]];return i&&a.push([tn,i]),a}else{const a="baggage"in o?o.baggage:void 0,u=[];return Array.isArray(a)?u.push(...a):a&&u.push(a),i&&u.push(i),{...o,"sentry-trace":s,baggage:u.length>0?u.join(","):void 0}}else return{"sentry-trace":s,baggage:i}}function ef(e,t,n,r){if(!In()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;const i=e.xhr.__sentry_xhr__;if(e.endTimestamp){const u=e.xhr.__sentry_xhr_span_id__;if(!u)return;const c=r[u];c&&(c.setHttpStatus(i.status_code),c.finish(),delete r[u]);return}const s=N().getScope(),o=s&&s.getSpan(),a=o&&o.transaction;if(o&&a){const u=o.startChild({data:{...i.data,type:"xhr",method:i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=u.spanId,r[e.xhr.__sentry_xhr_span_id__]=u,e.xhr.setRequestHeader&&n(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",u.toTraceparent());const c=a.getDynamicSamplingContext(),f=Si(c);f&&e.xhr.setRequestHeader(tn,f)}catch{}}}function nf(e,t=!0,n=!0){if(!R||!R.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn("Could not initialize routing instrumentation due to invalid location");return}let r=R.location.href,i;t&&(i=e({name:R.location.pathname,op:"pageload",metadata:{source:"url"}})),n&&P("history",({to:s,from:o})=>{if(o===void 0&&r&&r.indexOf(s)!==-1){r=void 0;return}o!==s&&(r=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=e({name:R.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const rf="BrowserTracing",sf={idleTimeout:Li,finalTimeout:Ci,heartbeatInterval:Yi,markBackgroundTransactions:!0,routingInstrumentation:nf,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...sn};class xn{__init(){this.name=rf}constructor(t){xn.prototype.__init.call(this),this.options={...sf,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),Cu(),this.options.enableLongTask&&Yu()}setupOnce(t,n){this._getCurrentHub=n;const{routingInstrumentation:r,startTransactionOnLocationChange:i,startTransactionOnPageLoad:s,markBackgroundTransactions:o,traceFetch:a,traceXHR:u,tracePropagationTargets:c,shouldCreateSpanForRequest:f,_experiments:l}=this.options;r(m=>this._createRouteTransaction(m),s,i),o&&Bu(),l.enableInteractions&&this._registerInteractionListener(),Xu({traceFetch:a,traceXHR:u,tracePropagationTargets:c,shouldCreateSpanForRequest:f})}_createRouteTransaction(t){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,o=t.op==="pageload",a=o?Dr("sentry-trace"):null,u=o?Dr("baggage"):null,c=a?wa(a):void 0,f=u?La(u):void 0,l={...t,...c,metadata:{...t.metadata,dynamicSamplingContext:c&&!f?{}:f},trimEnd:!0},m=typeof n=="function"?n(l):l,h=m===void 0?{...l,sampled:!1}:m;h.metadata=h.name!==l.name?{...h.metadata,source:"custom"}:h.metadata,this._latestRouteName=h.name,this._latestRouteSource=h.metadata&&h.metadata.source,h.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.log(`[Tracing] Starting ${h.op} transaction on scope`);const p=this._getCurrentHub(),{location:g}=R,O=wr(p,h,r,i,!0,{location:g},s);return O.registerBeforeFinishCallback(b=>{Hu(b)}),O}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,o="ui.action.click";if(t&&(t.finish(),t=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const a=this._getCurrentHub(),{location:u}=R,c={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=wr(a,c,r,i,!0,{location:u},s)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}}function Dr(e){const t=oi(`meta[name=${e}]`);return t?t.getAttribute("content"):null}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&ku();yu({dsn:"https://7fe6c13257b940b2934ba82326108664@o572617.ingest.sentry.io/5722220",integrations:[new xn],tracesSampleRate:1});new Io({target:document.getElementById("app")})});export default of();
